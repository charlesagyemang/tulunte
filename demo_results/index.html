<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Adminto - Responsive Admin Dashboard Template</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
        <meta content="Coderthemes" name="author" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <!-- App favicon -->
        <link rel="shortcut icon" href="../../assets/images/favicon.ico">

        <!--Chartist Chart CSS -->
        <link rel="stylesheet" href="../../assets/plugins/chartist/dist/chartist.min.css">

        <!-- App css -->
        <link href="../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="../../assets/css/icons.css" rel="stylesheet" type="text/css" />
        <link href="../../assets/css/style.css" rel="stylesheet" type="text/css" />

        <script src="../../assets/js/modernizr.min.js"></script>

    </head>

    <body>

        <!-- Navigation Bar-->
        <header id="topnav">
            <div class="topbar-main">
                <div class="container-fluid">

                      <!-- Logo container-->
                      <div class="logo">
                          <!-- Text Logo -->
                          <a href="/" class="logo">
                              <span class="logo-small"><i class="mdi mdi-radar"></i></span>
                              <span class="logo-large"><i class="mdi mdi-radar"></i> Tymexpert</span>
                          </a>
                          <!-- Image Logo -->
                          <!-- <a href="/" class="logo">
                              <img src="assets/images/logo-sm.png" alt="" height="26" class="logo-small">
                              <img src="assets/images/logo.png" alt="" height="24" class="logo-large">
                          </a> -->

                      </div>
                      <!-- End Logo container-->





        </header>
        <!-- End Navigation Bar-->

        <div class="wrapper">
            <div class="container-fluid">

               <br>
                <div class="row">
                    <div class="col-xl-6">
                        <div class="card-box">

                            <h4 class="header-title m-t-0 m-b-30">Pie chart with custom labels</h4>

                            <div id="pie-chart" class="ct-chart ct-golden-section"></div>
                        </div>
                    </div><!-- end col-->


                     <div class="col-xl-6">
                        <div class="card-box">
                              <h4 class="header-title m-t-0 m-b-30">Animating a Donut with Svg.animate</h4>

                              <div id="animating-donut" class="ct-chart ct-golden-section"></div>
                         </div>
                    </div>


                </div>
                <!-- end row -->


            </div> <!-- end container -->



            <!-- /Right-bar -->

        </div>
        <!-- end wrapper -->




        <!-- jQuery  -->
        <script src="../../assets/js/jquery.min.js"></script>
        <script src="../../assets/js/popper.min.js"></script>
        <script src="../../assets/js/bootstrap.min.js"></script>
        <script src="../../assets/js/waves.js"></script>
        <script src="../../assets/js/jquery.slimscroll.js"></script>

        <!--Chartist Chart-->
        <script src="../../assets/plugins/chartist/dist/chartist.min.js"></script>
        <script src="../../assets/plugins/chartist/dist/chartist-plugin-tooltip.min.js"></script>
        <script src="../../assets/pages/jquery.chartist.init.js"></script>

        <!-- App js -->
        <script src="../../assets/js/jquery.core.js"></script>
        <script src="../../assets/js/jquery.app.js"></script>


        <script type="text/javascript">

          $(document).ready(function(){
            console.log("hehhe");

           let keys = JSON.parse(localStorage.keys)
           let values = JSON.parse(localStorage.values)
           let leftOfAll = JSON.parse(localStorage.keys)
           let years = JSON.parse(localStorage.years)


            console.log(keys);





            //Pie chart with custom labels



            var data = {
              labels: keys,
              series: values
            };

            var options = {
              labelInterpolationFnc: function(value) {
                return value[0]
              }
            };

            var responsiveOptions = [
              ['screen and (min-width: 640px)', {
                chartPadding: 30,
                labelOffset: 100,
                labelDirection: 'explode',
                labelInterpolationFnc: function(value) {
                  return value;
                }
              }],
              ['screen and (min-width: 1024px)', {
                labelOffset: 80,
                chartPadding: 20
              }]
            ];

            new Chartist.Pie('#pie-chart', data, options, responsiveOptions);



            //Animating a Donut with Svg.animate

            var chart = new Chartist.Pie('#animating-donut', {
              series: values,
              labels: keys
            }, {
              donut: true,
              showLabel: true,
              plugins: [
                Chartist.plugins.tooltip()
              ]
            });

            chart.on('draw', function(data) {
              if(data.type === 'slice') {
                // Get the total path length in order to use for dash array animation
                var pathLength = data.element._node.getTotalLength();

                // Set a dasharray that matches the path length as prerequisite to animate dashoffset
                data.element.attr({
                  'stroke-dasharray': pathLength + 'px ' + pathLength + 'px'
                });


              }
            });




          })

        </script>

    </body>
</html>
