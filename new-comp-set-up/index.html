<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>timexpert</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
    <meta content="Coderthemes" name="author" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- App favicon -->
    <link rel="shortcut icon" href="../assets/images/favicon.ico">

    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="../assets/plugins/morris/morris.css">

    <!-- Plugins css-->
    <link href="../assets/plugins/bootstrap-tagsinput/dist/bootstrap-tagsinput.css" rel="stylesheet" />
    <link href="../assets/plugins/multiselect/css/multi-select.css" rel="stylesheet" type="text/css" />
    <link href="../assets/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css" />
    <link href="../assets/plugins/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.css" rel="stylesheet" />
    <link href="../assets/plugins/switchery/switchery.min.css" rel="stylesheet" />
    <link href="../assets/plugins/timepicker/bootstrap-timepicker.min.css" rel="stylesheet">
    <link href="../assets/plugins/mjolnic-bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css" rel="stylesheet">
    <link href="../assets/plugins/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css" rel="stylesheet">
    <link href="../assets/plugins/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">

    <!-- Sweet Alert css -->
      <link href="../assets/plugins/sweet-alert/sweetalert2.min.css" rel="stylesheet" type="text/css" />

    <!-- App css -->
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="../assets/css/icons.css" rel="stylesheet" type="text/css" />
    <link href="../assets/css/style.css" rel="stylesheet" type="text/css" />

    <script src="../assets/js/modernizr.min.js"></script>

</head>

<!-- Navigation Bar-->
<header id="topnav">
    <div class="topbar-main">
        <div class="container-fluid">

            <!-- Logo container-->
            <div class="logo">
                <!-- Text Logo -->
                <a href="/" class="logo">
                    <span class="logo-small"><i class="mdi mdi-radar"></i></span>
                    <span class="logo-large"><i class="mdi mdi-radar"></i> Tymexpert</span>
                </a>
                <!-- Image Logo -->
                <!-- <a href="/" class="logo">
                    <img src="assets/images/logo-sm.png" alt="" height="26" class="logo-small">
                    <img src="assets/images/logo.png" alt="" height="24" class="logo-large">
                </a> -->

            </div>
            <!-- End Logo container-->


            <div class="menu-extras topbar-custom">

                <ul class="list-unstyled topbar-right-menu float-right mb-0">

                    <li class="menu-item">
                        <!-- Mobile menu toggle-->
                        <a class="navbar-toggle nav-link">
                            <div class="lines">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </a>
                        <!-- End mobile menu toggle-->
                    </li>


                </ul>
            </div>
            <!-- end menu-extras -->

            <div class="clearfix"></div>

        </div> <!-- end container -->
    </div>
    <!-- end topbar-main -->
</header>
<!-- End Navigation Bar-->
<body>


        <div class="content-page">


              <button id="open-mod" type="button" class="btn btn-primary btn-lg btn-rounded" data-toggle="modal" data-target="#exampleModal">

              </button>

            <!-- Start content -->
            <div class="content">
                <div class="container-fluid">

                      <br><br>  <br><br>  <br><br>

                      <!-- PROGRESSBAR WIZARD -->
                    <div class="col-xl-12">
                        <div class="card-box pb-0">
                        <h1 id="walk-html"></h1>
                         <div class="row">
                          <div id="looper0" class="col-lg-12">
                              <div class="card-box">
                                  <h3 >What Are Some Of The Major Questions You Will Want Employees To Answer Daily</h3>
                                  <p>Enter values in the box and separate with a comma "," when you are done click complete. Example: What Time Did You Report To Work Today?, What Time Did You Leave The Office Last Time?, How Many Tasks Did You Complete Today?, How Many Tasks Are In Progress? How Many Tasks Are In Your Backlog?</p>
                                  <div class="tags-default">
                                      <input id="company-questions-to-employees" type="text"
                                          value="What Time Did You Report To Work Today?, What Time Did You Leave The Office Last Time?, How Many Tasks Did You Complete Today?, How Many Tasks Are In Progress?, How Many Tasks Are In Your Backlog?" data-role="tagsinput"
                                          placeholder="add activities" />
                                  </div>
                                  <br>
                                  <button  id="company-questions-next" type="button"  class="btn btn-success btn-lg"name="button"> Next => </button>

                                </div>
                          </div><!-- end col -->

                          <div id="looper" class="col-lg-12" hidden>
                              <div class="card-box">
                                  <h3 >Enter the emails of employees you want to invite to timexpert</h3>
                                  <p>Separate by commas and hit Complete to finish the setup</p>
                                  <div class="tags-default">
                                      <input id="company-questions-to-employees--" type="text"
                                          value="" data-role="tagsinput"
                                          placeholder="add as many emails as you want eg. kofi@company.com" />
                                  </div>
                                  <br>
                                  <button  id="go-back" type="button"  class="btn btn-danger"name="button"> <== Go Back </button>
                                  <button  id="company-finish-setup" type="button"  class="btn btn-success btn-lg"name="button"> Finish Setup :) </button>


                                </div>
                          </div><!-- end col -->

                       </div>
                      </div>
                    </div>
                  </div>
              </div>


        </div>
    <!-- END wrapper -->

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="exampleModalLabel">Fill In The Details Correctly</h2>
                    <button id="close-modall" type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div id="modal-body-mutate" class="modal-body">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button id="look-into-my-future" type="button" class="btn btn-primary">Finish</button>
                </div>
            </div>
        </div>
    </div>


    <!-- jQuery  -->
    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/popper.min.js"></script>
    <script src="../assets/js/bootstrap.min.js"></script>

    <script src="../assets/js/jquery.slimscroll.js"></script>
    <script src="../assets/js/jquery.scrollTo.min.js"></script>


    <script src="../assets/plugins/sweet-alert/sweetalert2.min.js"></script>
    <script src="../assets/pages/jquery.sweet-alert.init.js"></script>


    <!-- Plugins Js -->
    <script src="../assets/plugins/switchery/switchery.min.js"></script>
    <script src="../assets/plugins/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js"></script>
    <script type="text/javascript" src="../assets/plugins/multiselect/js/jquery.multi-select.js"></script>
    <script type="text/javascript" src="../assets/plugins/jquery-quicksearch/jquery.quicksearch.js"></script>
    <script src="../assets/plugins/select2/js/select2.min.js" type="text/javascript"></script>
    <script src="../assets/plugins/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js" type="text/javascript"></script>
    <script src="../assets/plugins/bootstrap-inputmask/bootstrap-inputmask.min.js" type="text/javascript"></script>
    <script src="../assets/plugins/moment/moment.js"></script>
    <script src="../assets/plugins/timepicker/bootstrap-timepicker.min.js"></script>
    <script src="../assets/plugins/mjolnic-bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
    <script src="../assets/plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
    <script src="../assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
    <script src="../assets/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js" type="text/javascript"></script>
    <!-- Form wizard -->
    <script src="assets/plugins/bootstrap-wizard/jquery.bootstrap.wizard.js"></script>
    <script src="assets/plugins/jquery-validation/dist/jquery.validate.min.js"></script>

    <!-- App js -->
    <script src="../assets/js/jquery.core.js"></script>
    <script src="../assets/js/jquery.app.js"></script>

    <script>

        const companyDetails = JSON.parse(localStorage.loginDataGotten).company;
        $("#open-mod").hide()
        $("#account-2").addClass("nav-link active show");
        $("#walk-html").html(`<h2>Hi ${companyDetails.name} Lets Get You Started</h2>`)


      $(document).ready(function () {

        // functions
        function sendMail (url) {
          var settings = {
              "async": true,
              "crossDomain": true,
              "url": `https://emailserve1.herokuapp.com/?${url}`,
              "method": "GET",
            }

          $.ajax(settings).done(function (response) {
            console.log(response);
          });
        }



          // next question button
         $("#company-questions-next").unbind("click").click(function(){

            $("#looper0").hide();
            $("#looper").removeAttr("hidden");


            //Get Questions
            const questions =  $("#company-questions-to-employees").val().split(",");
            localStorage.questions = questions;

            // console.log(questions);

            // save questions in some storage and get it done


          })


          //go back button
          $("#go-back").unbind("click").click(function(){
            $("#looper0").show();
            $("#looper").attr("hidden", true);
          })

          //
          $("#company-finish-setup").unbind('click').click(function(){

            const $this = $(this);
            const finalQuestions = localStorage.questions;
            const emailList      = $("#company-questions-to-employees--").val();

            console.log(finalQuestions);
            console.log(emailList);
            console.log(coname);

            // send the invitations
            sendMail(url);

            $this.text("Finalizing.....")



            // //make a call to the questions api
            // data = {
            //   "company_company_id": coname.id,
            //   "questions": finalQuestions
            // }
            //
            // SDK.addData("company", "questions_table", data, function(response){
            //   console.log("Questions", response)
            //
            //   // Create Users
            //
            //   for (var i = 0; i < emailList.split(",").length; i++) {
            //     //create user
            //     SDK.call('devless', 'signUp', [emailList.split(",")[i], 'password', '', '', `worker,${coname.id}`, '', 'anything else'],function(resp){
            //
            //       console.log("User", resp.payload.result)
            //     });
            //
            //   }
            //
            //   $this.text("Set Up Complete... Redirecting..")
            //
            //   alert("Set Up Complete.. You Will Be Redirected To Your Dashboard. Click Ok ")
            //
            //   // redirect to company dashboard
            //   window.location.href = "/comp_dashboard"
            //
            // })

          })

      });


    </script>

</body>

</html>
